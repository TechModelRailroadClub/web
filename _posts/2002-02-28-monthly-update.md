---
title: Monthly Update February 2002 
layout: post
author: Tom N. Paulsen
---



 **February 2***System 3 Progress Report* So, today, after everyone else had left, I ran four trains around in a loop, all at the same time. How did I manage? Jeff was listing off some features he'd like to see, so I just went ahead and added one.  Sys3 now will stop the train automatically and flash the cab signals if it gets a red light, until either: the user presses the (i guess it can be called call\-on) button, or the signal changes, at which point it resumes its previous speed. This makes it actually possible to run many many trains, and even insert more into the loop while the rest are still running, without having to worry about them running into each other. Very cool. :) Now we just need more cabs so you can run multiple trains without having to use the text console.  In other news, the next three block cards are on their way to being completed (which will make 8 block cards, 64 blocks), which means soon S\-yard will be operational as well.  *James* **February 6**John Shriver paved the carbarn ladder tracks and a small portion of the trolley loop that is near the turntable. Andy Miller painted some locomotives. Ken Terrell tested a three\-car articulated set, one of three he bought at the Springfield show.  Roger Neumann continued soldering components onto the two block cards he has been building. James Knight and Tom O'Reilly debugged some track continuity problems that were affecting System3 performance. For part of the evening there were TWELVE trains running simultaneously, an all\-time record for TMRC. John McNamara worked on a high\-level description of System3, and here it is:  The principal component of System3 is the Server, a PC running the main control program, which is written in Java. The Server is connected to an RS422 serial bus that connects to:  1\) The IMP 2\) The Block Cards 3\) The Cab Controllers  The IMP is a PIC microprocessor that sends data to the Switch Cards via a special shift\-register\-like bus. Each switch card can operate up to 8 switches (turnouts) on the layout. The IMP also controls the aforementioned RS422 serial bus via a token passing scheme.  The Block Cards each use a PIC processor to control the generation of power in 8 blocks. Unlike System2 where each control box ("cab") had its own power source ("throttle"), in System3 each block has its own pulse power throttle that receives control information from the cab controlling that block. Thus one cab can control several throttles. The association of cabs to the pulse power throttles in the blocks is provided by the Server.  The Cab Controllers use PIC processors to monitor the speed and direction settings in the hand\-held devices used by layout operators. The updated speed and direction information is forwarded many times per second to the throttles in the blocks occupied by the train.  As a train moves into a new block, the program in the Server causes the cab controlling that train to become logically associated with an additional throttle/block on a block card. The speed and direction information provided by the cab, via the cab controller, is forwarded to the newly associated block. Blocks that are no longer occupied by the train have their throttles set to zero.  Switches are currently operated by seperate PC running a switch control and layout display program called RSIG. Since these PCs control the switches, and did so before the advent of the Server and the IMP, they are presently connected to the shift\-register\-like bus that interconnects the switch cards. Eventually, they will have an Ethernet connection to the Server so that they are coordinated with the database contained therein. Switches will be controllable via these computers, via keypads on the cabs, or via layout pushbuttons that are monitored by the switch cards, which can forward button\-push information to the Server and IMP.  Status: Switch cards for the current layout have been constructed and installed. More will be needed as the layout grows. With the completion of a few more block cards, the same will be true for block cards. Cabs, cab controllers, and the software to operate therein are the next parts of the System3 project to be completed. Assistance in any of these construction and programming efforts is most welcome! **February 13**John Shriver's trolley system paving work has been completed in the car barn area and is now extending across the Whatahack River to the loop area immediately adjacent to the roundhouse area. Tonight, John took the initial paving step, which is the construction of sidewalk supports that form the boundaries of the paved area. Andy Miller continued his painting work on some North Shore locomotives and joined with Ed Drozd to refill the Coke machine. Ed also did some work on the KATO SD40's that he purchased for the Club. John McNamara worked on his TNP superliners, installing new trucksets. John Purbrick installed a set of jacks for System3 cabs. James Knight and Alvar Saenz\-Otero worked on Club finances. Brandon Gunn and Roger Neumann continued their construction of a couple of System3 block cards. Malcolm Laughlin tried some LED mounting alternatives for his proposed Berkmannville control panel and consulted with various people on panel construction alternatives. Tom O'Reilly demonstrated a nifty set of cab control windows on the Server. Each is labelled with a train identifier, such as "Amtrak Loco", has a speed control slider, and buttons for Reverse, Stop, Dropout, and Foo. The demonstration included multiple trains operating with the System3 "auto\-stop on red" feature. **February 20**The trolley line that serves downtown Gifford City runs between two loops. One loop is in the downtown area and was brought to the new layout from the old layout in Building 20\. The other loop is near the roundhouse in a (not very classy) residential area. Street paving activity, in preparation for sidewalks and trolley poles, has been gradually moving from the downtown area toward the residential area. To secure the new paving to the plywood, in the same fashion as elsewhere, John Shriver installed round\-top staples like those used for telephone wiring. Andy Miller found a multi\-story residential and storefront building that was suitable for installation on the new street. It was slightly too deep, so he shortened it. Andy also repaired three freight cars and made some sketches of the proposed new freight yard.  More buildings are needed in this area, as are volunteers to build them.  Work on the new System3 control system is continuing on several fronts. James Knight did some work on it this evening, and Roger Neumann wired some network connectors for the block control cards. Malcolm Laughlin continued his work on a Berkmannville control panel. It features rectangular yellow LEDs in the track diagram that indicate switch positions. Yellow LEDs and red LEDs in the track diagram indicate which blocks are occupied and the direction in which each block is powered. It is going to look really spiffy. John Purbrick reconditioned several TNP cabooses such that they hold together, their ladders are intact, and their LED marker lights don't flicker. John McNamara did some work on his TNP superliners, under the supervision of Tom O'Reilly.  System3 received another test \- a 37\-car freight pulled by two Athern Genesis SD70M's brought in by Dave Mitton. **February 27**John Shriver completed the paving around the trolley loop nearest the roundhouse. He's now got this down to a science; it looks great. John Purbrick installed an additional switch control card in the Berkmannville area. He and James Knight also did some work on the block card feedback feature. John McNamara loaded the Coke machine, which was once again gratifyingly close to empty despite being loaded on Saturday. He also brought in some plastic solvent for Genya Zaytman to use when he resumes work on his mill building. Malcolm Laughlin continued using 3DPlanIt to draw up proposed versions of the new freight yard. Mike Patton dropped by to visit.   